(function(e){function t(t){for(var o,r,i=t[0],s=t[1],l=t[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==a[i]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a={app:0},c=[];function i(e){return s.p+"js/"+({catalog:"catalog",main:"main",profile:"profile"}[e]||e)+"."+{catalog:"8981d8a0",main:"08f16ef9",profile:"445981b8"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={catalog:1,main:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({catalog:"catalog",main:"main",profile:"profile"}[e]||e)+"."+{catalog:"99171205",main:"c78ac320",profile:"31d6cfe0"}[e]+".css",a=s.p+o,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var l=c[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===o||u===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete r[e],f.parentNode.removeChild(f),n(c)},f.href=a;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=c);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1363:function(e,t,n){},"3c21":function(e,t,n){"use strict";n("1363")},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2909"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),a={class:"page"};function c(e,t,n,o,c,i){var s=Object(r["A"])("Header"),l=Object(r["A"])("router-view");return Object(r["t"])(),Object(r["f"])(r["a"],null,[c.user?(Object(r["t"])(),Object(r["d"])(s,{key:0,user:c.user,onLogout:i.logout},null,8,["user","onLogout"])):Object(r["e"])("",!0),Object(r["g"])("div",a,[Object(r["i"])(l,{onLogin:i.getUser},null,8,["onLogin"])])],64)}n("b64b"),n("e9c4");var i=n("bc3a"),s=n.n(i),l=function(e){return Object(r["w"])("data-v-756495b8"),e=e(),Object(r["u"])(),e},u={class:"header"},d={key:0,class:"header__wrap"},f={class:"links"},b=Object(r["h"])("Главная"),g=Object(r["h"])("Каталог"),h={class:"header-list"},p={class:"header-list__item search"},m={class:"header-list__item planning"},O=l((function(){return Object(r["g"])("img",{class:"user__avatar",src:"https://s4.anilist.co/file/anilistcdn/user/avatar/large/b872722-jCvwfQqyVOor.png"},null,-1)})),j=[O],v={key:1,class:"header__wrap"},_=l((function(){return Object(r["g"])("div",{class:"header__text"},"Главная",-1)})),y=l((function(){return Object(r["g"])("div",{class:"header__text"},"Каталог",-1)})),w=l((function(){return Object(r["g"])("div",{class:"header__text"},"Закладки",-1)})),k=l((function(){return Object(r["g"])("div",{class:"header__text"},"Аккаунт",-1)})),S={class:"modal__content"},A={class:"modal-user"},C=l((function(){return Object(r["g"])("div",{class:"modal-user__username"},"Rahlmann",-1)})),L={class:"modal-list"},E={class:"modal-list__option"},x=Object(r["h"])("Мой аккаунт"),P={class:"modal-list__option"},I=Object(r["h"])("Смотреть позже"),N={class:"modal-list__option"},M=Object(r["h"])("Мои списки"),z={class:"modal-list"},T={class:"modal-list__option"},G=Object(r["h"])("Выйти");function q(e,t,n,o,a,c){var i=Object(r["A"])("router-link"),s=Object(r["A"])("fa");return Object(r["t"])(),Object(r["f"])("header",u,[c.width.value>500?(Object(r["t"])(),Object(r["f"])("div",d,[Object(r["i"])(i,{to:"/home",class:"logo",style:Object(r["p"])({"background-image":"url('../img/logo.png')"})},null,8,["style"]),Object(r["g"])("div",f,[Object(r["i"])(i,{class:"links__link",to:"/home"},{default:Object(r["G"])((function(){return[b]})),_:1}),Object(r["i"])(i,{class:"links__link",to:"/catalog"},{default:Object(r["G"])((function(){return[g]})),_:1})]),Object(r["g"])("div",h,[Object(r["g"])("div",p,[Object(r["i"])(s,{icon:["fas","search"],size:"lg"})]),Object(r["g"])("div",m,[Object(r["i"])(s,{icon:["far","bookmark"],size:"lg"})]),Object(r["g"])("div",{class:Object(r["o"])(["header-list__item user",{user_active:a.modal_is_active}]),onClick:t[0]||(t[0]=Object(r["I"])((function(e){return c.OpenModal()}),["stop"]))},j,2)])])):(Object(r["t"])(),Object(r["f"])("div",v,[Object(r["i"])(i,{to:"/home",class:"header__button"},{default:Object(r["G"])((function(){return[Object(r["i"])(s,{icon:"home",size:"sm"}),_]})),_:1}),Object(r["i"])(i,{to:"/catalog",class:"header__button"},{default:Object(r["G"])((function(){return[Object(r["i"])(s,{icon:"search",size:"sm"}),y]})),_:1}),Object(r["i"])(i,{to:"/planning",class:"header__button"},{default:Object(r["G"])((function(){return[Object(r["i"])(s,{icon:"bookmark",size:"sm"}),w]})),_:1}),Object(r["i"])(i,{to:"/profile",class:"header__button"},{default:Object(r["G"])((function(){return[Object(r["i"])(s,{icon:"user",size:"sm"}),k]})),_:1})])),Object(r["g"])("div",{class:Object(r["o"])(["modal",{modal_active:a.modal_is_active}])},[Object(r["g"])("div",S,[Object(r["g"])("div",A,[Object(r["g"])("div",{class:"modal-user__avatar",style:Object(r["p"])({"background-image":"url(https://s4.anilist.co/file/anilistcdn/user/avatar/large/b872722-jCvwfQqyVOor.png)"})},null,4),C]),Object(r["g"])("div",L,[Object(r["g"])("div",E,[Object(r["i"])(s,{class:"modal-list__icon",icon:"user"}),x]),Object(r["g"])("div",P,[Object(r["i"])(s,{class:"modal-list__icon",icon:"bookmark"}),I]),Object(r["g"])("div",N,[Object(r["i"])(s,{class:"modal-list__icon",icon:"list"}),M])]),Object(r["g"])("div",z,[Object(r["g"])("div",T,[Object(r["i"])(s,{class:"modal-list__icon",icon:"sign-out-alt"}),G])])])],2)])}var W={name:"Header",inject:["width"],props:["user"],data:function(){return{modal_is_active:!1}},methods:{logout:function(){this.$emit("logout")},CloseModal:function(e){e.target.closest(".modal__content")||(document.body.classList.remove("scroll-off"),this.modal_is_active=!1)},OpenModal:function(){this.modal_is_active=!0,document.body.classList.add("scroll-off"),document.addEventListener("click",this.CloseModal)}}},B=(n("3c21"),n("6b0d")),H=n.n(B);const U=H()(W,[["render",q],["__scopeId","data-v-756495b8"]]);var F=U,J={name:"App",provide:function(){var e=this;return{user:this.user,width:Object(r["b"])((function(){return e.width}))}},data:function(){return{windowWidth:document.body.clientWidth,user:localStorage.getItem("user")||"guest"}},computed:{width:function(){return this.windowWidth}},components:{Header:F},mounted:function(){var e=this;this.getUser(),window.addEventListener("resize",(function(){e.windowWidth=document.body.clientWidth}))},methods:{logout:function(){var e=this;s.a.post("/logout").then((function(){e.user="guest",localStorage.setItem("user","guest"),e.$router.push("/home")}))},getUser:function(){var e=this;s.a.post("/auth").then((function(t){"email must be verified!"===t.data?(e.user="guest",localStorage.setItem("user","guest")):Object.keys(t.data).length?(e.user=t.data,localStorage.setItem("user",JSON.stringify(t.data))):(e.user="guest",localStorage.setItem("user","guest"))})).catch((function(){e.user="guest",localStorage.setItem("user","guest")}))}}};n("5934");const D=H()(J,[["render",c]]);var Q=D,V=n("9483");Object(V["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0");var $=n("6c02"),K=[{path:"/home",component:function(){return n.e("main").then(n.bind(null,"bb51"))}},{path:"/login",component:function(){return n.e("main").then(n.bind(null,"d60c"))}},{path:"/signup",component:function(){return n.e("main").then(n.bind(null,"0687"))}},{path:"/forgot",component:function(){return n.e("main").then(n.bind(null,"a998"))}},{path:"/password/reset/:token",component:function(){return n.e("main").then(n.bind(null,"d6eb"))}},{path:"/catalog",component:function(){return n.e("catalog").then(n.bind(null,"247d"))}},{path:"/anime/:slug",component:function(){return n.e("catalog").then(n.bind(null,"0d8e"))}},{path:"/profile",component:function(){return n.e("profile").then(n.bind(null,"c66d"))}}],R=Object($["a"])({history:Object($["b"])("/"),routes:K}),X=R,Y=n("5502"),Z=Object(Y["a"])({state:{},mutations:{},actions:{},modules:{}}),ee=n("ad3d"),te=n("ecee"),ne=n("c074"),oe=n("f2d1"),re=n("b702"),ae=(n("f5df1"),n("9b4a"));ae["a"].register.apply(ae["a"],Object(o["a"])(ae["b"])),te["c"].add(ne["a"]),te["c"].add(oe["a"]),te["c"].add(re["a"]),Object(r["c"])(Q).component("fa",ee["a"]).use(Z).use(X).mount("#app")},5934:function(e,t,n){"use strict";n("9222")},9222:function(e,t,n){}});
//# sourceMappingURL=app.5e22a40b.js.map